define(["core/yui","filter_teamwork/popup","filter_teamwork/loading","core/ajax"],function(e,t,r,a){return{data:"",sesskey:M.cfg.sesskey,send:function(){var e=this.data.method;delete this.data.method,a.call([{methodname:e,args:this.data}])[0].done(function(e){}).fail(function(e){t.error()})},run:function(e){r.show();var o=this.data.method;delete this.data.method,a.call([{methodname:o,args:this.data}])[0].done(function(a){r.remove();let o=JSON.parse(a.result);if(o.error)return t.textError=o.errormsg,void t.error();e&&e()}).fail(function(e){t.error()})},runPopup:function(){var e=this.data.method;delete this.data.method,a.call([{methodname:e,args:this.data}])[0].done(function(e){let r=JSON.parse(e.result);t.textHead=r.header,t.text=r.content,t.show()}).fail(function(e){t.error()})}}});